#apply "std-io"
#flag DEBUG

@printc i8 (chr);
@printi i8 (i64);
@scani i64 ();

@getnum i32 ()
{
	printc('E');
	printc('n');
	printc('t');
	printc('e');
	printc('r');
	printc(' ');
	printc('t');
	printc('h');
	printc('e');
	printc(' ');
	printc('n');
	printc('u');
	printc('m');
	printc('b');
	printc('e');
	printc('r');
	printc(' ');
	printc('o');
	printc('f');
	printc(' ');
	printc('t');
	printc('e');
	printc('r');
	printc('m');
	printc('s');
	printc(':');
	printc(' ');
	~ scani();
}

@fib i32 () {
	%i, n i32;

	\ initialize first and second terms
	%t1, t2 i32 0, 1;

	\ initialize the next term (3rd term)
	%tn i32 $t1 + $t2;

	\ get no. of terms from user
	=n getnum();
	\ =n prompti("Enter the number of terms:");

	\ print the first two terms t1 and t2
	printi($t1); printc('\n');
	printi($t2); printc('\n');
	\ printf("Fibonacci Series: %d, %d, ", $t1, $t2);

	\ print 3rd to nth terms
  	!!(=i 3; $i <= $n; =i ++$i;) {
	    printi($tn); printc('\n');
	    \ printf("%d, ", $tn);
	    =t1 $t2;
	    =t2 $tn;
	    =tn $t1 + $t2;
	}
}

%zero i32 0;

@main i32 () {
	fib();
	~ $zero;
}
